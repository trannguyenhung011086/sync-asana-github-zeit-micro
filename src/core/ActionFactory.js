import SetCustomFieldAction from './actions/SetCustomFieldAction'
import SetSectionAction from './actions/SetSectionAction'
import CommentAction from './actions/CommentAction'

class ActionFactory {
    constructor(asanaClient) {
        this.asanaClient = asanaClient
    }

    buildActions = (actionDefinitions) => {
        const actions = []
    
        for (const actionDefinition of actionDefinitions) {
            switch (actionDefinition.type) {
                case 'setCustomField':
                    actions.push(new SetCustomFieldAction(this.asanaClient, actionDefinition.value))
                    break;
                case 'setSection':
                    actions.push(new SetSectionAction(this.asanaClient, actionDefinition.value))
                    break;
                case 'comment':
                    actions.push(new CommentAction(this.asanaClient, actionDefinition.value))
                    break;
                default: 
                    console.warn(`Skipping unknown action type '${actionDefinition.type}'. Please check your flow configurations.`) // use logger? send error response?
            }
        }
    
        return actions
    }
}

export default ActionFactory

//................................................. ........................................,-~~"""'~~-,,_
//.................................................. ..................................,-~"-,:::::::::::::::::::"-,
//.................................................. .............................,~"::::::::',::::::: :::::::::::::|',
//.................................................. .............................|::::::,-~"'___""~~-~"':}
//.................................................. .............................'|:::::|: : : : : : : : : : : : : :
//.................................................. .............................|:::::|: : :-~~—: : : —-: |
//.................................................. ............................(_"~-': : : : : : : : :
//.................................................. ............................."'~-,|: : : : : : ~—': : : :,'-never gonna
//.................................................. .................................|,: : : : : :-~~-: : ::/ —-give you up!
//.................................................. ............................,-"\':\: :'~,,_: : : : : _,-'
//.................................................. ......................__,-';;;;;\:"-,: : : :'~—~"/|
//.................................................. .............__,-~";;;;;;/;;;;;;;\: :\: : :____/: :',__
//.................................................. .,-~~~""_;;;;;;;;;;;;;;;;;;;;;;;;;',. ."-,:|:::::::|. . |;;;;"-,__
//................................................../;;;;;;;;;;;;;;;;;;;;;;;;;;;;,;;;;;;;;;\. . ."|::::::::|. .,';;;;;;;;;;"-,
//................................................,' ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;|;;;;;;;;;;;\. . .\:::::,'. ./|;;;;;;;;;;;;;|
//.............................................,-";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\;;;;;;;;;;;',: : __|. . .|;;;;;;;;;,';;|
//...........................................,-";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;',;;;;;;; ;;;; \. . |:::|. . .",;;;;;;;;|;;/
//........................................../;;;;;;;;;;;;;;;;;;;;;;;;;;|;;;;;;;;;;;;;;\;;;;;;;; ;;;\. .|:::|. . . |;;;;;;;;|/
//......................................../;;,-';;;;;;;;;;;;;;;;;;;;;;,';;;;;;;;;;;;;;;;;,;;;;;;; ;;;|. .\:/. . . .|;;;;;;;;|
//......................................./;;;;;;;;;;;;;;;;;;;;;;;;;;,;;;;;;;;;;;;;;;;;;;;;;; ;;;;;;;",: |;|. . . . \;;;;;;;|
//....................................,~";;;;;;;;;; ;;;;;;;;;;;,-";;;;;;;;;;;;;;;;;;;;;;;;;;\;;;;;;;;|.|;|. . . . .|;;;;;;;|
//................................,~";;;;;;;;;;;;;; ;;;;;;;;,-';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;',;;;;;;| |:|. . . . |\;;;;;;;|
//...............................,';;;;;;;;;;;;;;;;; ;;;;;;;/;;;,-';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;,;;;;;| |:|. . . .'|;;',;;;;;|
//..............................|;,-';;;;;;;;;;;;;;;;;;;,-';;;,-';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;,;;;;| |:|. . .,';;;;;',;;;;|_
//............................../;;;;;;;;;;;;;;;;;,-'_;;;;;;,';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;|;;; ;|.|:|. . .|;;;;;;;|;;;;|""~-,
//............................/;;;;;;;;;;;;;;;;;;/_",;;;,';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ,;;| |:|. . ./;;;;;;;;|;;;|;;;;;;|-,,__
//........................../;;;;;;;;;;;;;;;;;,-'...|;;,;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;;;;;| |:|._,-';;;;;;;;;|;;;;|;;;;;;;;;;;"'-,_
//......................../;;;;;;;;;;;;;;;;,-'....,';;,;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;;;;;;;;|.|:|::::"'~-~"'||;;;;;|;;;;;;;;;;,-~""~-,
//......................,';;;;;;;;;;;;;;;;,'....../;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;;|.|:|::::::::::::::|;;;;;',;;;;;;;;;"-,: : : : : :"'~-,:"'~~-,
//...................../;;;;;;;;;;;;;;;,-'......,';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;;;;;;;;;;;;|:|:|::::::::::::::',;;;;;;|_""~-,,-~—,,___,-~~"'__"~-
//..................,-';;;;;;;;;;;;;;;,'......../;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;;;;|:|:|:::::::::::::::|;;;;;;|.................. ..."-,\_"-,"-,"~
//................../;;;;;;;;;;;;;;;;/.......,-';;;;;;;;;;;;;;;;;Scroll Up;;;;;;;;;;;;;;;;;; ;;;;;;;|:|:|:::::::::::::::|;;;;;|................